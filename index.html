<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="Portfolio — interactive Python demos and projects." />
  <title>Portfolio</title>

  <!-- Code editor (syntax highlighting like an IDE) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/dracula.min.css" />

  <style>
    :root{
      --bg0:#050714;
      --bg1:#0b1020;
      --text:#eef2ff;
      --muted:#a9b4d0;

      --accent:#7c3aed;
      --accent2:#22c55e;
      --accent3:#06b6d4;
      --accent4:#f59e0b;

      --card: rgba(18,26,51,.62);
      --border: rgba(255,255,255,.12);
      --shadow: 0 30px 90px rgba(0,0,0,.55);

      --radius: 22px;
      --radius2: 28px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(1100px 620px at 12% 10%, rgba(124,58,237,.30), transparent 62%),
        radial-gradient(980px 560px at 86% 16%, rgba(6,182,212,.22), transparent 60%),
        radial-gradient(980px 560px at 55% 88%, rgba(34,197,94,.16), transparent 62%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      line-height:1.55;
      overflow-x:hidden;
    }

    /* ===== Cinematic background layers ===== */
    .bg{position:fixed; inset:0; z-index:-3; pointer-events:none; overflow:hidden;}
    .aurora{
      position:absolute; inset:-50%;
      background: conic-gradient(from 140deg,
        rgba(124,58,237,.38),
        rgba(6,182,212,.22),
        rgba(34,197,94,.22),
        rgba(245,158,11,.18),
        rgba(124,58,237,.34));
      filter: blur(70px);
      opacity:.28;
      animation: spin 26s linear infinite;
      transform-origin: 50% 50%;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    .blob{
      position:absolute; width:640px; height:640px; border-radius:999px;
      filter: blur(46px); opacity:.42;
      background:
        radial-gradient(circle at 30% 30%, rgba(124,58,237,.62), transparent 60%),
        radial-gradient(circle at 70% 70%, rgba(34,197,94,.50), transparent 55%);
      animation: floaty 16s ease-in-out infinite;
    }
    .blob.b2{
      width:760px; height:760px; opacity:.33;
      background:
        radial-gradient(circle at 35% 35%, rgba(6,182,212,.58), transparent 60%),
        radial-gradient(circle at 70% 70%, rgba(124,58,237,.34), transparent 55%);
      animation-duration: 22s;
      animation-delay: -7s;
    }
    .blob.b3{
      width:540px; height:540px; opacity:.28;
      background:
        radial-gradient(circle at 30% 30%, rgba(245,158,11,.50), transparent 60%),
        radial-gradient(circle at 70% 70%, rgba(6,182,212,.30), transparent 55%);
      animation-duration: 18s;
      animation-delay: -10s;
    }
    @keyframes floaty{
      0%   { transform: translate(4vw, 6vh) scale(1); }
      25%  { transform: translate(58vw, 10vh) scale(1.06); }
      50%  { transform: translate(38vw, 58vh) scale(0.98); }
      75%  { transform: translate(10vw, 48vh) scale(1.08); }
      100% { transform: translate(4vw, 6vh) scale(1); }
    }

    .grain{
      position:fixed; inset:0; z-index:-2; pointer-events:none;
      opacity:.11;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
      mix-blend-mode: overlay;
    }

    .container{max-width:1180px; margin:0 auto; padding:24px}
    a{color:inherit}

    /* ===== Nav ===== */
    .nav{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(16px);
      background: rgba(7,10,21,.55);
      border-bottom:1px solid var(--border);
    }
    .nav-inner{
      display:flex; align-items:center; justify-content:space-between;
      gap:16px;
      padding:14px 24px;
      max-width:1180px; margin:0 auto;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      text-decoration:none; font-weight:850; letter-spacing:.2px;
    }
    .dot{
      width:12px; height:12px; border-radius:999px;
      background: linear-gradient(135deg, var(--accent), var(--accent3), var(--accent2));
      box-shadow: 0 0 0 10px rgba(124,58,237,.10);
      animation: pulse 2.8s ease-in-out infinite;
    }
    @keyframes pulse{
      0%,100%{ transform: scale(1); box-shadow: 0 0 0 10px rgba(124,58,237,.10); }
      50%{ transform: scale(1.18); box-shadow: 0 0 0 16px rgba(124,58,237,.07); }
    }
    .nav-links{display:flex; gap:12px; flex-wrap:wrap}
    .nav-links a{
      text-decoration:none;
      color:var(--muted);
      padding:8px 10px;
      border-radius:14px;
      border:1px solid transparent;
      transition:all .18s ease;
      font-size:14px;
    }
    .nav-links a:hover{
      color:var(--text);
      border-color: rgba(255,255,255,.16);
      background: rgba(255,255,255,.03);
    }

    /* ===== Cards / sections ===== */
    .card{
      background: var(--card);
      border:1px solid var(--border);
      border-radius: var(--radius2);
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .card::before{
      content:"";
      position:absolute; inset:-2px;
      background: linear-gradient(120deg, transparent 35%, rgba(255,255,255,.08), transparent 65%);
      transform: translateX(-55%);
      opacity:0;
      pointer-events:none;
    }
    .card:hover::before{
      opacity:1;
      animation: shine 1.05s ease;
    }
    @keyframes shine{
      from { transform: translateX(-65%); }
      to   { transform: translateX(65%); }
    }
    .card-pad{padding:24px}

    section{padding:16px 0}
    .section-title{
      display:flex; align-items:baseline; justify-content:space-between;
      gap:12px; margin:18px 0 12px;
    }
    .section-title h2{margin:0; font-size:20px}
    .section-title p{margin:0; color:var(--muted); font-size:14px}

    /* ===== Hero ===== */
    .hero{padding:38px 0 10px}
    .hero-grid{
      display:grid; gap:16px;
      grid-template-columns: 1.25fr .75fr;
      align-items:stretch;
    }
    @media (max-width: 940px){ .hero-grid{grid-template-columns:1fr} }

    h1{
      margin:0 0 10px;
      font-size:48px;
      line-height:1.05;
      letter-spacing:-.8px;
    }
    @media (max-width: 560px){ h1{font-size:38px} }

    .grad-text{
      background: linear-gradient(90deg, var(--accent), var(--accent3), var(--accent2), var(--accent4), var(--accent));
      background-size: 300% 100%;
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      animation: grad 8s ease infinite;
    }
    @keyframes grad{
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }

    .lead{
      margin:0 0 16px;
      color:var(--muted);
      font-size:15.5px;
      max-width: 70ch;
    }

    .btns{display:flex; flex-wrap:wrap; gap:10px; margin-top:14px}
    .btn{
      display:inline-flex; align-items:center; gap:10px;
      text-decoration:none;
      padding:10px 12px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      color:var(--text);
      transition: transform .16s ease, border-color .16s ease, background .16s ease;
      font-size:14px;
      cursor:pointer;
      will-change: transform;
      position:relative;
    }
    .btn:hover{transform: translateY(-2px); border-color: rgba(255,255,255,.24)}
    .btn.primary{
      border-color: rgba(124,58,237,.40);
      background: linear-gradient(135deg, rgba(124,58,237,.26), rgba(6,182,212,.12), rgba(34,197,94,.12));
    }
    .btn.ghost{background: rgba(255,255,255,.02)}

    .stats{
      display:grid; gap:12px;
      grid-template-columns: repeat(3, 1fr);
      margin-top:18px;
    }
    @media (max-width: 940px){ .stats{grid-template-columns: 1fr} }
    .stat{
      padding:14px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
    }
    .stat .k{color:var(--muted); font-size:12px}
    .stat .v{font-weight:850; margin-top:3px; font-size:15px}

    /* ===== Project grid ===== */
    .grid{
      display:grid; gap:14px;
      grid-template-columns: repeat(3, 1fr);
    }
    @media (max-width: 980px){ .grid{grid-template-columns: repeat(2, 1fr)} }
    @media (max-width: 650px){ .grid{grid-template-columns: 1fr} }

    .project{
      padding:18px;
      display:flex; flex-direction:column; gap:10px;
      min-height: 170px;
      border-radius: var(--radius);
      transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease;
    }
    .project:hover{
      transform: translateY(-5px);
      border-color: rgba(255,255,255,.22);
      box-shadow: 0 34px 110px rgba(0,0,0,.58);
    }
    .project h3{margin:0; font-size:16px}
    .project p{margin:0; color:var(--muted); font-size:13.5px}
    .tagrow{display:flex; flex-wrap:wrap; gap:8px}
    .tag{
      font-size:12px;
      padding:6px 8px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      color:var(--muted);
      background: rgba(255,255,255,.03);
    }
    .actions{margin-top:auto; display:flex; flex-wrap:wrap; gap:10px}
    .small{font-size:13px; padding:8px 10px; border-radius:14px}

    .empty{
      padding:18px;
      border-radius:18px;
      border:1px dashed rgba(255,255,255,.18);
      background: rgba(255,255,255,.02);
      color: var(--muted);
    }

    /* ===== Scroll reveal ===== */
    .reveal{opacity:0; transform: translateY(16px) scale(.99); transition: opacity .7s ease, transform .7s ease;}
    .reveal.show{opacity:1; transform: translateY(0) scale(1);}

    /* ===== Python Lab ===== */
    .lab{display:grid; grid-template-columns:1fr; gap:12px;}
    .lab-top{
      display:flex; gap:10px; flex-wrap:wrap;
      align-items:center; justify-content:space-between;
    }
    .status{color:var(--muted); font-size:13px}
    .select{
      padding:10px 12px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      min-width: 260px;
      outline:none;
      color: var(--text);
      font: inherit;
    }

    .cm-wrap{
      border-radius:18px;
      border:1px solid rgba(255,255,255,.14);
      overflow:hidden;
      background: rgba(0,0,0,.18);
    }
    .CodeMirror{
      height: 320px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      font-size: 13.5px;
      line-height: 1.5;
    }
    .cm-s-dracula.CodeMirror{ background: rgba(12, 14, 28, 0.92); }
    .cm-s-dracula .CodeMirror-gutters{
      background: rgba(12, 14, 28, 0.92);
      border-right: 1px solid rgba(255,255,255,.08);
    }

    .console{
      width:100%;
      min-height: 150px;
      padding:14px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.30);
      color: #e6e9ff;
      overflow:auto;
      white-space: pre-wrap;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      font-size: 13px;
    }

    footer{
      margin-top:18px;
      padding:22px 0 30px;
      color:var(--muted);
      border-top:1px solid rgba(255,255,255,.10);
      font-size:13px;
    }

    /* ===== Recruiter AI Guide ===== */
    .ai-fab{
      position: fixed;
      right: 18px;
      bottom: 18px;
      z-index: 999;
      display:flex;
      align-items:center;
      gap:10px;
      padding:12px 14px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(10, 14, 30, .72);
      backdrop-filter: blur(14px);
      box-shadow: 0 20px 60px rgba(0,0,0,.55);
      cursor:pointer;
      user-select:none;
      transition: transform .18s ease, border-color .18s ease;
    }
    .ai-fab:hover{ transform: translateY(-2px); border-color: rgba(255,255,255,.24); }
    .ai-dot{
      width:10px; height:10px; border-radius:999px;
      background: linear-gradient(135deg, var(--accent), var(--accent3), var(--accent2));
      box-shadow: 0 0 0 10px rgba(124,58,237,.10);
    }
    .ai-fab span{ font-size:14px; color: var(--text); }
    .ai-fab small{ color: var(--muted); font-size:12px; display:block; margin-top:-2px; }

    .ai-panel{
      position: fixed;
      right: 18px;
      bottom: 78px;
      width: min(420px, calc(100vw - 36px));
      max-height: min(560px, calc(100vh - 120px));
      z-index: 999;
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(12, 16, 34, .78);
      backdrop-filter: blur(16px);
      box-shadow: 0 30px 90px rgba(0,0,0,.60);
      overflow:hidden;
      transform: translateY(10px);
      opacity: 0;
      pointer-events:none;
      transition: opacity .18s ease, transform .18s ease;
    }
    .ai-panel.open{
      opacity:1;
      transform: translateY(0);
      pointer-events:auto;
    }
    .ai-header{
      padding: 14px 14px 10px;
      border-bottom:1px solid rgba(255,255,255,.10);
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }
    .ai-title{
      display:flex; align-items:center; gap:10px;
      font-weight:850;
    }
    .ai-title .badge{
      font-size:12px;
      padding:4px 8px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      color: var(--muted);
      background: rgba(255,255,255,.03);
      font-weight:750;
    }
    .ai-close{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      color: var(--text);
      border-radius: 14px;
      padding: 8px 10px;
      cursor:pointer;
    }
    .ai-body{ padding: 12px 14px; display:flex; flex-direction:column; gap:10px; }
    .ai-msg{
      padding: 10px 12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      color: var(--muted);
      font-size: 13.5px;
      line-height: 1.45;
    }
    .ai-quick{display:flex; flex-wrap:wrap; gap:8px;}
    .ai-chip{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      color: var(--text);
      border-radius: 999px;
      padding: 8px 10px;
      font-size: 13px;
      cursor:pointer;
    }
    .ai-inputRow{display:flex; gap:10px; align-items:center; margin-top:2px;}
    .ai-input{
      flex:1;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.03);
      border-radius: 16px;
      padding: 10px 12px;
      color: var(--text);
      outline:none;
    }
    .ai-send{
      border:1px solid rgba(255,255,255,.14);
      background: linear-gradient(135deg, rgba(124,58,237,.26), rgba(6,182,212,.12), rgba(34,197,94,.12));
      color: var(--text);
      border-radius: 16px;
      padding: 10px 12px;
      cursor:pointer;
      font-weight: 750;
    }
    .ai-highlight{
      outline: 2px solid rgba(124,58,237,.55);
      box-shadow: 0 0 0 8px rgba(124,58,237,.12), 0 28px 90px rgba(0,0,0,.55);
      border-radius: 22px;
      transition: outline .2s ease;
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      .aurora,.blob,.dot{animation:none !important;}
      .reveal{transition:none !important;}
    }
  </style>
</head>

<body>
  <div class="bg" aria-hidden="true">
    <div class="aurora"></div>
    <div class="blob" style="top:-170px; left:-200px;"></div>
    <div class="blob b2" style="top:40px; right:-280px;"></div>
    <div class="blob b3" style="bottom:-190px; left:18vw;"></div>
  </div>
  <div class="grain" aria-hidden="true"></div>

  <header class="nav">
    <div class="nav-inner">
      <a class="brand" href="#top" aria-label="Go to top">
        <span class="dot" aria-hidden="true"></span>
        <span>Portfolio</span>
      </a>
      <nav class="nav-links" aria-label="Primary">
        <a href="#python-lab">Python Lab</a>
        <a href="#projects">Projects</a>
        <a href="#about">About</a>
      </nav>
    </div>
  </header>

  <main id="top" class="container">
    <!-- HERO -->
    <section class="hero reveal">
      <div class="hero-grid">
        <div class="card card-pad">
          <h1><span class="grad-text">Interactive Portfolio</span></h1>
          <p class="lead">
            Recruiter-friendly + hands-on: runnable Python demos, clean project summaries, and a guide that takes you straight to what you want.
          </p>

          <div class="btns">
            <a class="btn primary" href="#python-lab">Open Python Lab</a>
            <a class="btn ghost" href="#projects">View Projects</a>
            <a class="btn ghost" href="#about">About</a>
          </div>

          <div class="stats">
            <div class="stat">
              <div class="k">Best feature</div>
              <div class="v">Run code instantly (in-browser)</div>
            </div>
            <div class="stat">
              <div class="k">What to scan</div>
              <div class="v">Projects → outcomes + links</div>
            </div>
            <div class="stat">
              <div class="k">Fast navigation</div>
              <div class="v">Use Recruiter Guide (bottom-right)</div>
            </div>
          </div>
        </div>

        <aside class="card card-pad">
          <div class="section-title" style="margin-top:0">
            <h2>How to review</h2>
            <p>30 seconds</p>
          </div>
          <div class="empty">
            1) Open Python Lab → run a demo<br/>
            2) Skim Projects → look for outcomes<br/>
            3) Check About → what roles I’m targeting
          </div>
          <div style="height:12px"></div>
          <div class="empty">
            Tip: replace the placeholder projects with your strongest 3–6. Remove anything that’s not top-tier.
          </div>
        </aside>
      </div>
    </section>

    <!-- PYTHON LAB -->
    <section id="python-lab" class="reveal">
      <div class="section-title">
        <h2>Python Lab</h2>
        <p>Syntax-highlighted editor + run button (Python runs in your browser).</p>
      </div>

      <div class="card card-pad">
        <div class="lab">
          <div class="lab-top">
            <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
              <label class="status" for="demoSelect"><strong>Demo:</strong></label>
              <select class="select" id="demoSelect"></select>
            </div>
            <div class="btns" style="margin:0">
              <button class="btn primary" id="runBtn" type="button">Run</button>
              <button class="btn" id="resetBtn" type="button">Reset</button>
            </div>
          </div>

          <div class="status" id="pyStatus">Loading Python runtime…</div>

          <div class="cm-wrap">
            <textarea id="codeArea"></textarea>
          </div>

          <div>
            <div class="status" style="margin-bottom:8px;">Output</div>
            <div class="console" id="output"></div>
          </div>

          <div class="empty">
            To add your own runnable projects: edit <code>PY_DEMOS</code> in the script and paste your code.
            Keep demos short and impressive (good output + clean code).
          </div>
        </div>
      </div>
    </section>

    <!-- PROJECTS -->
    <section id="projects" class="reveal">
      <div class="section-title">
        <h2>Projects</h2>
        <p>Replace placeholders with your strongest work.</p>
      </div>

      <div class="grid">
        <article class="card project">
          <div class="tagrow"><span class="tag">Replace</span><span class="tag">With</span><span class="tag">Real</span></div>
          <h3>Project title</h3>
          <p>2–3 lines: problem → approach → result. Include numbers if possible.</p>
          <div class="actions">
            <a class="btn small" href="#" target="_blank" rel="noopener">GitHub</a>
            <a class="btn small" href="#" target="_blank" rel="noopener">Demo</a>
          </div>
        </article>

        <article class="card project">
          <div class="tagrow"><span class="tag">Replace</span><span class="tag">With</span><span class="tag">Real</span></div>
          <h3>Project title</h3>
          <p>Example outcomes: saved time, improved accuracy, processed X data, etc.</p>
          <div class="actions">
            <a class="btn small" href="#" target="_blank" rel="noopener">GitHub</a>
            <a class="btn small" href="#" target="_blank" rel="noopener">Write-up</a>
          </div>
        </article>

        <article class="card project">
          <div class="tagrow"><span class="tag">Replace</span><span class="tag">With</span><span class="tag">Real</span></div>
          <h3>Project title</h3>
          <p>Remove filler. Keep only your best work to impress recruiters.</p>
          <div class="actions">
            <a class="btn small" href="#" target="_blank" rel="noopener">GitHub</a>
            <a class="btn small" href="#" target="_blank" rel="noopener">Notes</a>
          </div>
        </article>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="reveal">
      <div class="section-title">
        <h2>About</h2>
        <p>Short and confident.</p>
      </div>

      <div class="card card-pad">
        <p class="lead" style="margin:0">
          Write 3–5 lines here: what you’re good at, what you enjoy building, and what roles you’re targeting.
          Keep it specific and backed by the projects above.
        </p>
      </div>
    </section>

    <footer class="reveal">
      <div style="display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap;">
        <span>© <span id="year"></span></span>
        <span>Hosted on GitHub Pages</span>
      </div>
    </footer>
  </main>

  <!-- Recruiter AI Guide -->
  <div class="ai-panel" id="aiPanel" aria-label="Recruiter guide panel">
    <div class="ai-header">
      <div class="ai-title">
        <span class="ai-dot" aria-hidden="true"></span>
        Recruiter Guide
        <span class="badge">smart nav</span>
      </div>
      <button class="ai-close" id="aiClose" type="button">Close</button>
    </div>

    <div class="ai-body">
      <div class="ai-msg" id="aiMsg">
        Ask me where to find things. Try: “python demo”, “projects”, “quick overview”, or “show me code”.
      </div>

      <div class="ai-quick">
        <button class="ai-chip" data-q="python demo" type="button">Python demo</button>
        <button class="ai-chip" data-q="projects" type="button">Projects</button>
        <button class="ai-chip" data-q="quick overview" type="button">Quick overview</button>
        <button class="ai-chip" data-q="show me code" type="button">Show code</button>
      </div>

      <div class="ai-inputRow">
        <input class="ai-input" id="aiInput" placeholder="Ask where to find things…" />
        <button class="ai-send" id="aiSend" type="button">Go</button>
      </div>

      <div class="ai-msg" id="aiResult" style="display:none;"></div>
    </div>
  </div>

  <div class="ai-fab" id="aiFab" role="button" aria-label="Open recruiter guide">
    <span class="ai-dot" aria-hidden="true"></span>
    <div>
      <span>Recruiter Guide</span>
      <small>Find everything fast</small>
    </div>
  </div>

  <!-- CodeMirror -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/python/python.min.js"></script>

  <!-- Pyodide (Python in the browser) -->
  <script src="https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js"></script>

  <script>
    // Footer year
    document.getElementById("year").textContent = new Date().getFullYear();

    // Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener("click", (e) => {
        const id = a.getAttribute("href");
        const el = document.querySelector(id);
        if (!el) return;
        e.preventDefault();
        el.scrollIntoView({ behavior: "smooth", block: "start" });
        history.pushState(null, "", id);
      });
    });

    // Scroll reveal
    const revealEls = Array.from(document.querySelectorAll(".reveal"));
    const io = new IntersectionObserver((entries) => {
      entries.forEach(en => {
        if (en.isIntersecting) {
          en.target.classList.add("show");
          io.unobserve(en.target);
        }
      });
    }, { threshold: 0.12 });
    revealEls.forEach(el => io.observe(el));

    // ===== Python demos (edit these) =====
    const PY_DEMOS = [
      {
        name: "Hello + math",
        code:
`print("Hello from Python in your browser!")\n\nimport math\nx = 2\nprint("sqrt(2) =", math.sqrt(x))`
      },
      {
        name: "Prime checker",
        code:
`def is_prime(n):\n    if n < 2:\n        return False\n    if n % 2 == 0:\n        return n == 2\n    i = 3\n    while i*i <= n:\n        if n % i == 0:\n            return False\n        i += 2\n    return True\n\nfor n in range(1, 31):\n    if is_prime(n):\n        print(n, "is prime")`
      },
      {
        name: "Monte Carlo π",
        code:
`import random\n\nN = 25000\ninside = 0\nfor _ in range(N):\n    x = random.random()\n    y = random.random()\n    if x*x + y*y <= 1:\n        inside += 1\n\npi_est = 4 * inside / N\nprint("Estimated pi:", pi_est)\nprint("Samples:", N)`
      }
    ];

    // Populate demo dropdown
    const demoSelect = document.getElementById("demoSelect");
    PY_DEMOS.forEach((d, idx) => {
      const opt = document.createElement("option");
      opt.value = String(idx);
      opt.textContent = d.name;
      demoSelect.appendChild(opt);
    });

    // CodeMirror editor
    const editor = CodeMirror.fromTextArea(document.getElementById("codeArea"), {
      mode: "python",
      theme: "dracula",
      lineNumbers: true,
      indentUnit: 4,
      tabSize: 4,
      indentWithTabs: false,
      lineWrapping: true,
    });

    let initialCode = PY_DEMOS[0].code;
    editor.setValue(initialCode);

    demoSelect.addEventListener("change", () => {
      const idx = Number(demoSelect.value);
      initialCode = PY_DEMOS[idx].code;
      editor.setValue(initialCode);
      document.getElementById("output").textContent = "";
    });

    document.getElementById("resetBtn").addEventListener("click", () => {
      editor.setValue(initialCode);
      document.getElementById("output").textContent = "";
    });

    // Load Pyodide
    const statusEl = document.getElementById("pyStatus");
    let pyodideReady = (async () => {
      statusEl.textContent = "Loading Python runtime… (first load can take a moment)";
      const pyodide = await loadPyodide();
      statusEl.textContent = "Python ready ✅";
      return pyodide;
    })();

    // Run Python
    document.getElementById("runBtn").addEventListener("click", async () => {
      const runBtn = document.getElementById("runBtn");
      const output = document.getElementById("output");
      runBtn.disabled = true;
      runBtn.textContent = "Running…";
      output.textContent = "";

      try {
        const pyodide = await pyodideReady;
        const code = editor.getValue();

        const wrapped = `
import sys, io, traceback
_buf_out = io.StringIO()
_buf_err = io.StringIO()
_old_out, _old_err = sys.stdout, sys.stderr
sys.stdout, sys.stderr = _buf_out, _buf_err
try:
${code.split("\\n").map(l => "    " + l).join("\\n")}
except Exception:
    traceback.print_exc()
finally:
    sys.stdout, sys.stderr = _old_out, _old_err
_result = _buf_out.getvalue() + _buf_err.getvalue()
`;
        await pyodide.runPythonAsync(wrapped);
        const result = pyodide.globals.get("_result");
        output.textContent = (result && result.trim().length) ? result : "(no output)";
      } catch (err) {
        output.textContent = String(err);
      } finally {
        runBtn.disabled = false;
        runBtn.textContent = "Run";
      }
    });

    // ===== Recruiter Guide (smart navigation) =====
    const aiFab = document.getElementById("aiFab");
    const aiPanel = document.getElementById("aiPanel");
    const aiClose = document.getElementById("aiClose");
    const aiInput = document.getElementById("aiInput");
    const aiSend = document.getElementById("aiSend");
    const aiResult = document.getElementById("aiResult");

    function openAI(){ aiPanel.classList.add("open"); setTimeout(()=>aiInput.focus(), 80); }
    function closeAI(){ aiPanel.classList.remove("open"); }
    aiFab.addEventListener("click", openAI);
    aiClose.addEventListener("click", closeAI);

    const ROUTES = [
      { keys: ["python", "demo", "run", "lab", "emulator", "code"], target: "#python-lab", msg: "Opening the Python Lab — run a demo and view the code." },
      { keys: ["project", "projects", "portfolio", "work"], target: "#projects", msg: "Taking you to Projects — scan outcomes + links." },
      { keys: ["about", "overview", "quick", "summary", "tldr"], target: "#top", msg: "Jumping to the top overview for a quick scan." },
    ];

    function normalize(s){ return (s || "").toLowerCase().trim(); }

    function bestRoute(query){
      const q = normalize(query);
      if (!q) return null;
      let best = null, bestScore = 0;
      for (const r of ROUTES){
        let score = 0;
        for (const k of r.keys) if (q.includes(k)) score += 1;
        if (score > bestScore){ bestScore = score; best = r; }
      }
      return bestScore > 0 ? best : null;
    }

    function highlightSection(el){
      document.querySelectorAll(".ai-highlight").forEach(x => x.classList.remove("ai-highlight"));
      el.classList.add("ai-highlight");
      setTimeout(()=> el.classList.remove("ai-highlight"), 1800);
    }

    function goTo(target, message){
      const el = document.querySelector(target);
      if (!el){
        aiResult.style.display = "block";
        aiResult.textContent = `I couldn't find ${target} on this page yet.`;
        return;
      }
      el.scrollIntoView({ behavior: "smooth", block: "start" });
      highlightSection(el);
      aiResult.style.display = "block";
      aiResult.textContent = message;
    }

    function handleAsk(text){
      const route = bestRoute(text);
      if (!route){
        aiResult.style.display = "block";
        aiResult.textContent = "Try: “python demo”, “projects”, or “quick overview”.";
        return;
      }
      goTo(route.target, route.msg);
    }

    aiSend.addEventListener("click", () => handleAsk(aiInput.value));
    aiInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") handleAsk(aiInput.value);
      if (e.key === "Escape") closeAI();
    });

    document.querySelectorAll(".ai-chip").forEach(btn => {
      btn.addEventListener("click", () => {
        const q = btn.getAttribute("data-q");
        aiInput.value = q;
        handleAsk(q);
      });
    });

    document.addEventListener("keydown", (e) => {
      if (e.key === "?" && !aiPanel.classList.contains("open")) openAI();
    });
  </script>
</body>
</html>

