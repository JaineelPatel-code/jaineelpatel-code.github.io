<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Jaineel Patel — Portfolio (Python projects + YouTube + LinkedIn)." />
  <title>Jaineel Patel — Portfolio</title>

  <style>
    :root{
      --bg0:#070a15;
      --bg1:#0b1020;
      --card: rgba(18, 26, 51, 0.78);
      --muted:#a9b4d0;
      --text:#eef2ff;
      --accent:#7c3aed;
      --accent2:#22c55e;
      --accent3:#06b6d4;
      --border:rgba(255,255,255,.12);
      --shadow: 0 22px 70px rgba(0,0,0,.45);
      --radius:18px;
      --radius2:24px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background:
        radial-gradient(900px 520px at 18% 10%, rgba(124,58,237,.25), transparent 60%),
        radial-gradient(760px 420px at 85% 25%, rgba(34,197,94,.20), transparent 60%),
        radial-gradient(680px 420px at 55% 85%, rgba(6,182,212,.14), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      color:var(--text);
      line-height:1.55;
      overflow-x:hidden;
    }
    a{color:inherit}
    .container{max-width:1120px; margin:0 auto; padding:24px}

    /* ===== Animated aurora + blobs ===== */
    .bg{
      position:fixed; inset:0; z-index:-2; pointer-events:none;
      overflow:hidden;
    }
    .aurora{
      position:absolute; inset:-40%;
      background:
        conic-gradient(from 140deg,
          rgba(124,58,237,.35),
          rgba(6,182,212,.25),
          rgba(34,197,94,.25),
          rgba(124,58,237,.30));
      filter: blur(55px);
      opacity:.35;
      animation: spin 22s linear infinite;
      transform-origin: 50% 50%;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    .blob{
      position:absolute; width:540px; height:540px; border-radius:999px;
      filter: blur(38px);
      opacity:.55;
      background:
        radial-gradient(circle at 30% 30%, rgba(124,58,237,.55), transparent 60%),
        radial-gradient(circle at 70% 70%, rgba(34,197,94,.45), transparent 55%);
      animation: floaty 14s ease-in-out infinite;
    }
    .blob.b2{
      width:620px; height:620px;
      background:
        radial-gradient(circle at 35% 35%, rgba(6,182,212,.55), transparent 60%),
        radial-gradient(circle at 70% 70%, rgba(124,58,237,.35), transparent 55%);
      animation-duration: 18s;
      animation-delay: -6s;
      opacity:.52;
    }
    .blob.b3{
      width:440px; height:440px;
      background:
        radial-gradient(circle at 30% 30%, rgba(34,197,94,.50), transparent 60%),
        radial-gradient(circle at 70% 70%, rgba(6,182,212,.35), transparent 55%);
      animation-duration: 16s;
      animation-delay: -9s;
      opacity:.50;
    }
    @keyframes floaty{
      0%   { transform: translate(4vw, 6vh) scale(1); }
      25%  { transform: translate(58vw, 9vh) scale(1.06); }
      50%  { transform: translate(35vw, 55vh) scale(0.98); }
      75%  { transform: translate(8vw, 45vh) scale(1.08); }
      100% { transform: translate(4vw, 6vh) scale(1); }
    }

    /* Subtle grain overlay */
    .grain{
      position:fixed; inset:0; z-index:-1; pointer-events:none;
      opacity:.10;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
      mix-blend-mode: overlay;
    }

    /* ===== Nav ===== */
    .nav{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(14px);
      background: rgba(7,10,21,.55);
      border-bottom:1px solid var(--border);
    }
    .nav-inner{
      display:flex; align-items:center; justify-content:space-between;
      gap:16px;
      padding:14px 24px;
      max-width:1120px; margin:0 auto;
    }
    .brand{
      display:flex; align-items:center; gap:10px; text-decoration:none;
      font-weight:750; letter-spacing:.2px;
    }
    .dot{
      width:12px; height:12px; border-radius:999px;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow: 0 0 0 6px rgba(124,58,237,.14);
      animation: pulse 2.6s ease-in-out infinite;
    }
    @keyframes pulse{
      0%,100%{ transform: scale(1); box-shadow: 0 0 0 6px rgba(124,58,237,.14); }
      50%{ transform: scale(1.14); box-shadow: 0 0 0 12px rgba(124,58,237,.10); }
    }
    .nav-links{display:flex; gap:14px; flex-wrap:wrap}
    .nav-links a{
      text-decoration:none;
      color:var(--muted);
      padding:8px 10px;
      border-radius:12px;
      border:1px solid transparent;
      transition:all .18s ease;
      font-size:14px;
      position:relative;
    }
    .nav-links a:hover{
      color:var(--text);
      border-color:rgba(255,255,255,.16);
      background: rgba(255,255,255,.03);
    }

    /* ===== Hero ===== */
    .hero{padding:34px 0 16px}
    .hero-grid{
      display:grid; gap:16px;
      grid-template-columns: 1.35fr .65fr;
      align-items:stretch;
    }
    @media (max-width: 900px){ .hero-grid{grid-template-columns:1fr} }

    .card{
      background: rgba(18,26,51,.74);
      border:1px solid var(--border);
      border-radius: var(--radius2);
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .card::before{
      content:"";
      position:absolute; inset:-2px;
      background: linear-gradient(120deg, transparent 35%, rgba(255,255,255,.07), transparent 65%);
      transform: translateX(-40%);
      opacity:0;
      pointer-events:none;
    }
    .card:hover::before{
      opacity:1;
      animation: shine 1.1s ease;
    }
    @keyframes shine{
      from { transform: translateX(-60%); }
      to   { transform: translateX(60%); }
    }

    .card-pad{padding:22px}
    h1{margin:0 0 8px; font-size:44px; line-height:1.05; letter-spacing:-.6px}
    @media (max-width: 520px){ h1{font-size:36px} }
    .subtitle{
      margin:0 0 14px;
      color:var(--muted);
      font-size:15px;
    }

    /* Animated gradient name text */
    .grad-text{
      background: linear-gradient(90deg, var(--accent), var(--accent3), var(--accent2), var(--accent));
      background-size: 250% 100%;
      -webkit-background-clip: text;
      background-clip:text;
      color: transparent;
      animation: grad 7s ease infinite;
    }
    @keyframes grad{
      0%{ background-position:0% 50%}
      50%{ background-position:100% 50%}
      100%{ background-position:0% 50%}
    }

    .btns{display:flex; flex-wrap:wrap; gap:10px; margin-top:16px}
    .btn{
      display:inline-flex; align-items:center; gap:8px;
      text-decoration:none;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      color:var(--text);
      transition: transform .16s ease, background .16s ease, border-color .16s ease;
      font-size:14px;
      will-change: transform;
      cursor:pointer;
    }
    .btn:hover{transform: translateY(-2px); border-color: rgba(255,255,255,.22)}
    .btn.primary{
      border-color: rgba(124,58,237,.38);
      background: linear-gradient(135deg, rgba(124,58,237,.24), rgba(6,182,212,.14), rgba(34,197,94,.14));
    }
    .btn.ghost{
      background: rgba(255,255,255,.02);
    }

    /* Stats */
    .stats{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
      margin-top:14px;
    }
    @media (max-width: 520px){ .stats{grid-template-columns:1fr} }
    .stat{
      padding:14px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
    }
    .stat .k{color:var(--muted); font-size:12px}
    .stat .v{font-weight:800; margin-top:2px; font-size:15px}

    /* ===== Sections ===== */
    section{padding:18px 0}
    .section-title{
      display:flex; align-items:baseline; justify-content:space-between;
      gap:12px; margin:18px 0 12px;
    }
    .section-title h2{margin:0; font-size:20px}
    .section-title p{margin:0; color:var(--muted); font-size:14px}

    .grid{
      display:grid; gap:14px;
      grid-template-columns: repeat(3, 1fr);
    }
    @media (max-width: 980px){ .grid{grid-template-columns: repeat(2, 1fr)} }
    @media (max-width: 620px){ .grid{grid-template-columns: 1fr} }

    .project{
      padding:18px;
      display:flex; flex-direction:column; gap:10px;
      min-height: 180px;
      transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease;
      border-radius: var(--radius);
    }
    .project:hover{
      transform: translateY(-4px);
      border-color: rgba(255,255,255,.22);
      box-shadow: 0 26px 80px rgba(0,0,0,.48);
    }
    .project h3{margin:0; font-size:16px}
    .project p{margin:0; color:var(--muted); font-size:13.5px}
    .tagrow{display:flex; flex-wrap:wrap; gap:8px}
    .tag{
      font-size:12px;
      padding:6px 8px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      color:var(--muted);
      background: rgba(255,255,255,.03);
    }
    .actions{margin-top:auto; display:flex; flex-wrap:wrap; gap:10px}
    .small{font-size:13px; padding:8px 10px; border-radius:12px}

    .empty{
      padding:18px;
      border-radius:18px;
      border:1px dashed rgba(255,255,255,.18);
      background: rgba(255,255,255,.02);
      color: var(--muted);
    }

    footer{
      margin-top:18px;
      padding:22px 0 30px;
      color:var(--muted);
      border-top:1px solid rgba(255,255,255,.10);
      font-size:13px;
    }
    code{
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      padding:2px 6px;
      border-radius:10px;
    }

    /* ===== Scroll reveal ===== */
    .reveal{
      opacity:0;
      transform: translateY(14px) scale(.99);
      transition: opacity .7s ease, transform .7s ease;
    }
    .reveal.show{
      opacity:1;
      transform: translateY(0) scale(1);
    }

    /* ===== Python Runner ===== */
    .runner{
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
    }
    .runner-top{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }
    select, textarea{
      font: inherit;
      color: var(--text);
    }
    .select{
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      min-width: 240px;
      outline:none;
    }
    .editor{
      width:100%;
      min-height: 260px;
      padding:14px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      resize: vertical;
      outline: none;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13.5px;
      line-height: 1.45;
    }
    .console{
      width:100%;
      min-height: 150px;
      padding:14px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.26);
      color: #e6e9ff;
      overflow:auto;
      white-space: pre-wrap;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13px;
    }
    .status{
      color: var(--muted);
      font-size: 13px;
    }

    /* ===== Magnetic hover (buttons) ===== */
    .mag{ position:relative; }
    @media (prefers-reduced-motion: reduce){
      .aurora,.blob,.dot{ animation:none !important; }
      .reveal{ transition:none !important; }
    }
  </style>
</head>

<body>
  <div class="bg" aria-hidden="true">
    <div class="aurora"></div>
    <div class="blob" style="top:-140px; left:-160px;"></div>
    <div class="blob b2" style="top:60px; right:-220px;"></div>
    <div class="blob b3" style="bottom:-160px; left:18vw;"></div>
  </div>
  <div class="grain" aria-hidden="true"></div>

  <!-- Top Navigation -->
  <header class="nav">
    <div class="nav-inner">
      <a class="brand" href="#top" aria-label="Go to top">
        <span class="dot" aria-hidden="true"></span>
        <span>Jaineel Patel</span>
      </a>
      <nav class="nav-links" aria-label="Primary">
        <a href="#python-projects">Python Projects</a>
        <a href="#projects">Other Projects</a>
        <a href="#youtube">YouTube</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <main id="top" class="container">
    <!-- Hero -->
    <section class="hero reveal">
      <div class="hero-grid">
        <div class="card card-pad">
          <h1><span class="grad-text">Jaineel Patel</span></h1>
          <p class="subtitle">
            Python • Maths • Science — building projects and explaining concepts clearly.
          </p>

          <div class="btns">
            <a class="btn primary mag" href="#python-projects">Explore Python demos</a>
            <a class="btn mag" href="https://www.youtube.com/@JPsMathAndScience" target="_blank" rel="noopener">YouTube</a>
            <a class="btn mag" href="https://www.linkedin.com/in/jaineel-patel-996a6929a" target="_blank" rel="noopener">LinkedIn</a>
            <a class="btn ghost mag" href="mailto:jaineelp07@gmail.com">Email me</a>
          </div>

          <div class="stats">
            <div class="stat">
              <div class="k">Focus</div>
              <div class="v">Clear, practical explanations</div>
            </div>
            <div class="stat">
              <div class="k">Strength</div>
              <div class="v">Turning ideas into demos</div>
            </div>
          </div>
        </div>

        <aside class="card card-pad">
          <div class="section-title" style="margin-top:0">
            <h2>Quick info</h2>
            <p>Contact & links</p>
          </div>

          <div class="stats" style="grid-template-columns:1fr; margin-top:0">
            <div class="stat">
              <div class="k">Email</div>
              <div class="v"><a href="mailto:jaineelp07@gmail.com">jaineelp07@gmail.com</a></div>
            </div>
            <div class="stat">
              <div class="k">YouTube</div>
              <div class="v"><a href="https://www.youtube.com/@JPsMathAndScience" target="_blank" rel="noopener">@JPsMathAndScience</a></div>
            </div>
            <div class="stat">
              <div class="k">LinkedIn</div>
              <div class="v"><a href="https://www.linkedin.com/in/jaineel-patel-996a6929a" target="_blank" rel="noopener">/in/jaineel-patel-996a6929a</a></div>
            </div>
          </div>

          <div class="empty" style="margin-top:14px">
            Tip: keep 3–6 best projects here, with clear outcomes (speed, accuracy, impact).
          </div>
        </aside>
      </div>
    </section>

    <!-- Python Projects -->
    <section id="python-projects" class="reveal">
      <div class="section-title">
        <h2>Python Projects</h2>
        <p>Run my code directly in your browser.</p>
      </div>

      <div class="card card-pad">
        <div class="runner">
          <div class="runner-top">
            <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
              <label class="status" for="projectSelect"><strong>Choose a demo:</strong></label>
              <select class="select" id="projectSelect" aria-label="Select a Python demo"></select>
            </div>

            <div class="btns" style="margin:0">
              <button class="btn primary mag" id="runBtn" type="button">Run Python</button>
              <button class="btn mag" id="resetBtn" type="button">Reset code</button>
            </div>
          </div>

          <div class="status" id="pyStatus">Loading Python runtime…</div>

          <textarea class="editor" id="codeEditor" spellcheck="false"></textarea>

          <div>
            <div class="status" style="margin-bottom:8px;">Output</div>
            <div class="console" id="output" aria-label="Python output console"></div>
          </div>

          <div class="empty">
            Add your own demos by editing the <code>PY_PROJECTS</code> list in the script at the bottom.
            Keep each demo short + runnable (best for recruiters).
          </div>
        </div>
      </div>
    </section>

    <!-- Other Projects -->
    <section id="projects" class="reveal">
      <div class="section-title">
        <h2>Other Projects</h2>
        <p>Non-Python work (notes, write-ups, presentations).</p>
      </div>
      <div class="empty">
        No projects listed yet — add cards here when you’re ready.
      </div>
    </section>

    <!-- YouTube -->
    <section id="youtube" class="reveal">
      <div class="section-title">
        <h2>YouTube</h2>
        <p>Featured video (replace the video ID).</p>
      </div>

      <div class="grid" style="grid-template-columns: 1.3fr .7fr;">
        <div class="card" style="padding:0; overflow:hidden;">
          <div style="position:relative; width:100%; padding-top:56.25%;">
            <iframe
              src="https://www.youtube.com/embed/VIDEO_ID"
              title="JPsMathAndScience featured video"
              loading="lazy"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen
              style="position:absolute; inset:0; width:100%; height:100%; border:0;">
            </iframe>
          </div>
        </div>

        <div class="card card-pad">
          <h3 style="margin:0 0 10px">JPsMathAndScience</h3>
          <p class="subtitle" style="margin:0 0 14px">
            Maths + science explanations and project walkthroughs.
          </p>
          <div class="btns" style="margin:0">
            <a class="btn primary mag" href="https://www.youtube.com/@JPsMathAndScience" target="_blank" rel="noopener">Visit channel</a>
            <a class="btn mag" href="https://www.youtube.com/@JPsMathAndScience/videos" target="_blank" rel="noopener">Videos</a>
            <a class="btn mag" href="https://www.youtube.com/@JPsMathAndScience/playlists" target="_blank" rel="noopener">Playlists</a>
          </div>
        </div>
      </div>

      <div class="empty" style="margin-top:14px">
        To get a video ID: open a video → URL looks like <code>...watch?v=XXXXXXXXXXX</code>.
        Replace <code>VIDEO_ID</code> above with that <code>XXXXXXXXXXX</code>.
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="reveal">
      <div class="section-title">
        <h2>Contact</h2>
        <p>Best ways to reach me.</p>
      </div>

      <div class="grid" style="grid-template-columns: 1fr 1fr;">
        <div class="card card-pad">
          <h3 style="margin:0 0 10px">Email</h3>
          <p class="subtitle" style="margin:0 0 14px">Fastest way to reach me:</p>
          <a class="btn primary mag" href="mailto:jaineelp07@gmail.com">jaineelp07@gmail.com</a>
        </div>

        <div class="card card-pad">
          <h3 style="margin:0 0 10px">Links</h3>
          <p class="subtitle" style="margin:0 0 14px">Find me online:</p>
          <div class="btns" style="margin:0">
            <a class="btn mag" href="https://www.linkedin.com/in/jaineel-patel-996a6929a" target="_blank" rel="noopener">LinkedIn</a>
            <a class="btn mag" href="https://www.youtube.com/@JPsMathAndScience" target="_blank" rel="noopener">YouTube</a>
          </div>
        </div>
      </div>
    </section>

    <footer class="reveal">
      <div style="display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap;">
        <span>© <span id="year"></span> Jaineel Patel</span>
        <span>Hosted on GitHub Pages.</span>
      </div>
    </footer>
  </main>

  <!-- Pyodide (Python in the browser) -->
  <script src="https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js"></script>

  <script>
    // Footer year
    document.getElementById("year").textContent = new Date().getFullYear();

    // Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener("click", (e) => {
        const id = a.getAttribute("href");
        const el = document.querySelector(id);
        if (!el) return;
        e.preventDefault();
        el.scrollIntoView({ behavior: "smooth", block: "start" });
        history.pushState(null, "", id);
      });
    });

    // Scroll reveal
    const revealEls = Array.from(document.querySelectorAll(".reveal"));
    const io = new IntersectionObserver((entries) => {
      entries.forEach(en => {
        if (en.isIntersecting) {
          en.target.classList.add("show");
          io.unobserve(en.target);
        }
      });
    }, { threshold: 0.12 });
    revealEls.forEach(el => io.observe(el));

    // Magnetic hover for buttons (subtle)
    const mags = document.querySelectorAll(".mag");
    mags.forEach(el => {
      el.addEventListener("mousemove", (e) => {
        const r = el.getBoundingClientRect();
        const x = e.clientX - r.left - r.width/2;
        const y = e.clientY - r.top - r.height/2;
        el.style.transform = `translate(${x*0.06}px, ${y*0.06}px)`;
      });
      el.addEventListener("mouseleave", () => {
        el.style.transform = "";
      });
    });

    // ===== Python runner demos (edit these) =====
    const PY_PROJECTS = [
      {
        name: "Hello World + math",
        code: `print("Hello from Python in your browser!")\n\nimport math\nx = 2\nprint("sqrt(2) =", math.sqrt(x))`
      },
      {
        name: "Prime checker",
        code: `def is_prime(n):\n    if n < 2:\n        return False\n    if n % 2 == 0:\n        return n == 2\n    i = 3\n    while i*i <= n:\n        if n % i == 0:\n            return False\n        i += 2\n    return True\n\nfor n in range(1, 31):\n    if is_prime(n):\n        print(n, "is prime")`
      },
      {
        name: "Monte Carlo Pi",
        code: `import random\n\nN = 20000\ninside = 0\nfor _ in range(N):\n    x = random.random()\n    y = random.random()\n    if x*x + y*y <= 1:\n        inside += 1\n\npi_est = 4 * inside / N\nprint("Estimated pi:", pi_est)\nprint("Samples:", N)`
      }
    ];

    // DOM refs
    const projectSelect = document.getElementById("projectSelect");
    const editor = document.getElementById("codeEditor");
    const output = document.getElementById("output");
    const statusEl = document.getElementById("pyStatus");
    const runBtn = document.getElementById("runBtn");
    const resetBtn = document.getElementById("resetBtn");

    // Populate dropdown
    PY_PROJECTS.forEach((p, idx) => {
      const opt = document.createElement("option");
      opt.value = String(idx);
      opt.textContent = p.name;
      projectSelect.appendChild(opt);
    });

    let initialCode = PY_PROJECTS[0].code;
    editor.value = initialCode;

    projectSelect.addEventListener("change", () => {
      const idx = Number(projectSelect.value);
      initialCode = PY_PROJECTS[idx].code;
      editor.value = initialCode;
      output.textContent = "";
    });

    resetBtn.addEventListener("click", () => {
      editor.value = initialCode;
      output.textContent = "";
    });

    // Load Pyodide
    let pyodideReady = null;
    async function initPyodide() {
      statusEl.textContent = "Loading Python runtime… (first load can take a moment)";
      const pyodide = await loadPyodide();
      statusEl.textContent = "Python ready ✅";
      return pyodide;
    }
    pyodideReady = initPyodide();

    // Run code
    runBtn.addEventListener("click", async () => {
      runBtn.disabled = true;
      runBtn.textContent = "Running…";
      output.textContent = "";

      try {
        const pyodide = await pyodideReady;

        const wrapped = `
import sys, io, traceback
_buf_out = io.StringIO()
_buf_err = io.StringIO()
_old_out, _old_err = sys.stdout, sys.stderr
sys.stdout, sys.stderr = _buf_out, _buf_err
try:
${editor.value.split("\n").map(l => "    " + l).join("\n")}
except Exception:
    traceback.print_exc()
finally:
    sys.stdout, sys.stderr = _old_out, _old_err
_result = _buf_out.getvalue() + _buf_err.getvalue()
`;
        await pyodide.runPythonAsync(wrapped);
        const result = pyodide.globals.get("_result");
        output.textContent = (result && result.trim().length) ? result : "(no output)";
      } catch (err) {
        output.textContent = String(err);
      } finally {
        runBtn.disabled = false;
        runBtn.textContent = "Run Python";
      }
    });
  </script>
</body>
</html>





